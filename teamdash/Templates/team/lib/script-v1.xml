<?xml version="1.0"?>

<!--
    This file contains instructions on how to generate a custom process.
-->

<generation-script name="script-v2"
      id="Team" version="2.3.0"
      requiresDashboard="1.7b.20060325+"
      startingJar="/team/lib/TeamProcessCGI.jar"
      inDirectory="/team/lib"
      outDirectory="/Templates/<!--#echo Process_ID -->">

    <!-- calculate properties to use when generating other files. -->
    <file in="properties.txt" out="#properties" />

    <!-- generate the xml template file. -->
    <file in="template.xml" encoding="xml"
          out="/Templates/<!--#echo Process_ID -->-template.xml">
        <param name="PID" replace="true"
               value="<!--#echo var=Process_ID -->"/>
        <param name="PSP_Children"
	       value="{PSP0.1{PSP1{PSP1.1{PSP2{PSP2.1"/>
	       <!-- PSP0 is excluded because it has no size metric, which
	            throws off all kinds of related calculations. -->
	       <!-- I'm excluding PSP3 for now for defect logging reasons. -->
    </file>

    <!-- localize the stylesheet, to enable process-specific overrides -->
    <file in="style.css" encoding="none"/>

    <!-- an empty, overwritable xml file for external document integration -->
    <file in="files.xml" encoding="none"/>

    <!-- files for external document integration of provided templates -->
    <file in="files2.xml" encoding="xml"/>
    <!--#foreach name=Document list=Document_List -->
      <file in="extfile:<!--#echo Document_Filename -->"
            out="<!--#echo Document_Filename_Basename -->"
            encoding="binary"/>
    <!--#endfor-->

    <!-- html pages for the individual project root node -->
    <file in="indiv_tools.htm" encoding="html" out="indiv_tools.shtm"/>
    <file in="project_parameters.htm" encoding="html" 
          out="indiv_project_parameters.shtm">
	<param name="indiv" value="true" />
	<param name="TEAM" value="Team" replace="true" />
    </file>

    <!-- html pages for the team project root node -->
    <file in="team_tools.htm"  encoding="html" out="team_tools.shtm"/>
    <file in="project_parameters.htm" encoding="html" 
          out="team_project_parameters.shtm">
	<param name="TEAM" value="Team" replace="true" />
    </file>


    <!-- html pages for the master project root node -->
    <file in="master_tools.htm" encoding="html" out="master_tools.shtm"/>
    <file in="project_parameters.htm" encoding="html" 
          out="master_project_parameters.shtm">
	<param name="master" value="true" />
	<param name="TEAM" value="Master" replace="true" />
    </file>

    <!-- data file shared by both project root nodes. -->
    <file in="root_data.txt" encoding="data" />

    <!-- data files for use on the team side -->
    <file in="team_root_dataFile.txt" encoding="data" />
    <file in="team_node_dataFile.txt" encoding="data" />
    <file in="disseminationExportFilter.xml" encoding="xml" />

    <!-- data files for use by a master project -->
    <file in="master_root_dataFile.txt" encoding="data" />
    <file in="master_node_dataFile.txt" encoding="data" />

    <!-- data files for use on the individal side -->
    <file in="indiv_root_dataFile.txt" encoding="data" />
    <file in="indiv_simple_full_dataFile.txt"
          out="indiv_full_dataFile.txt" encoding="data" />
    <file in="indiv_empty_dataFile.txt" encoding="data" />
    <file in="metricsExportFilter.xml" encoding="xml" />

    <!-- forms for use on the individual side -->
    <file in="expanding_indiv_plan_summary.htm" encoding="html"
          out="plan_summary.shtm"/>
    <file in="summary_redirect.htm" out="summary.shtm"/>
    <!--#if not VVIS -->
    <file in="quality_summary.htm" encoding="html"
          out="quality_summary.shtm"/>
    <!--#endif-->

    <!-- scripts for use on the individual side -->
    <file in="process_script.htm" encoding="html" out="script.htm"/>

    <!--#foreach name=Current_Phase list=Phase_List -->
    <file in="phase_script.htm" encoding="html"
          out="<!--#echo Current_Phase_ID -->_script.htm">
        <param name="Phase" value="Current_Phase" replace="true"/>
    </file>
    <!--#endfor-->


    <!-- forms shared by team nodes and rollup templates -->
    <!--#if not VVIS -->
    <file in="plan_summary.htm" encoding="html"
          out="rollup_plan_summary.shtm">
	<param name="rollup" value="true"/>
    </file>
    <file in="quality_summary.htm" encoding="html"
          out="rollup_quality_summary.shtm">
	<param name="rollup" value="true"/>
    </file>
    <!--#else-->
    <file in="matrix_plan_summary.htm" encoding="html"
          out="rollup_plan_summary.shtm">
	<param name="rollup" value="true"/>
    </file>
    <file in="phasePie.rpt" encoding="none" />
    <!--#endif-->
    <file in="defect_analysis.htm" encoding="html"
          out="/Templates/reports/analysis/<!--#echo Process_ID -->_defect_reports.shtm"/>
    <file in="autoExport.js" encoding="none"/>
    <file in="fixSlash.js" encoding="none"/>
    <file in="version_error.htm" encoding="html"
          out="version_error.shtm"/>

    <!-- forms and reports for the team plan summary -->
    <file in="summary_top_frame.htm" encoding="html"
          out="team_summary.shtm"/>
    <file in="summary_frame.htm" encoding="html"
          out="summary_frame.shtm"/>
    <file in="summary_toc.htm" encoding="html"
          out="summary_toc.shtm"/>

    <!-- files used by the team data rollup filter -->
    <file in="rollup_filter.htm" out="rollup_filter.shtm" encoding="none"/>
    <file in="filterWBS.js" encoding="none"/>

    <!-- data file used by rollups and team nodes -->
    <file in="rollup_dataFile.txt" encoding="data"
          out="rollup_dataFile.txt"/>

    <!-- core datafile that describes the data structure of the process -->
    <file in="prototype_dataFile.txt" encoding="data"
          out="prototype_dataFile.txt">
        <param name="PID" replace="true"
	       value="<!--#echo var='Process_ID' encoding='data' -->"/>
    </file>

    <!-- query files for various reports -->
    <file in="percent-def-free.rpt" encoding="none" />
    <file in="def-rem-profile.rpt" encoding="none" />
    <file in="quality-profile.rpt" encoding="none"
          out="quality-profile-plan.rpt">
	  <param name="Estimated_" value="Estimated " replace="true"/>
    </file>
    <file in="quality-profile.rpt" encoding="none"
          out="quality-profile-act.rpt">
	  <param name="Estimated_" value="" replace="true"/>
    </file>

    <!-- the html page displaying charts -->
    <!--#if not VVIS -->
    <file in="charts.htm" encoding="none" out="charts.shtm">
        <param name="PID" replace="true" value="<!--#echo var=Process_ID -->"/>
    </file>
    <!--#endif-->

    <!-- Icon used for navigating the hierarchy -->
    <file in="hier.png" encoding="binary" />

    <!-- Items for the team project setup wizard -->
    <!--#include file="/team/setup/filelist.txt" parse="true" -->
    <!--#foreach name="Filename" list="Wizard_File_List" -->
        <file in="/team/setup/Filename" encoding="binary" 
	      out="setup/Filename"/>
    <!--#endfor-->

    <!-- Files for the size inventory form -->
    <file in="/team/setup/sizeForm.class.link" encoding="none" 
          out="sizeForm.class.link"/>
    <file in="/team/setup/sizeForm.shtm" encoding="html" 
          out="sizeForm.shtm"/>

</generation-script>
