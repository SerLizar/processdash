<html>
<head>
<title>Backing up Dashboard Data</title>
<link rel=stylesheet type="text/css" href="../../style.css">
<style>tt { font-size: 90% }</style>
</head>
<body>

<h1>Backing up Dashboard Data</h1>

<p>The metrics data you collect is very valuable information.  Accordingly,
the dashboard provides several mechanisms for backing up this
information.</p>

<h2>Automatic, Periodic Backups</h2>

<p>First, the dashboard performs automatic data backups on a periodic
basis.  Each time the dashboard starts up or shuts down, and at least once
daily, the dashboard will zip up the files containing your data.  This
zip file is stored in a "backup" subdirectory underneath your 
<a href="../Troubleshooting/FAQ.html#WhereData">data directory</a>.</p>

<p>If you look in this "backup" directory, you will typically notice many
ZIP files.  The most recent file is a full backup of your data.  Earlier
files are not full backups - they are incremental backups, containing only
the files that changed between two points in time.</p>

<p>Incremental backups are not preserved forever.  If you have more than 10
incremental backups, the dashboard will discard backups that are more than
10 days old.</p>


<h3>Restoring data from automatic, periodic backups</h3>

<p>If you decided that your data had been corrupted in some way, and you
wanted to restore your data to some earlier point in time, you would follow
the steps below.  (Make certain you understand these instructions
completely before you begin, and <b>use extreme caution</b> when following
them; incorrect actions could result in permanent data corruption!
<b>Proceed at your own risk.</b>)</p>

<ol>

<li><a name="RestoreSteps">Shut down the dashboard</a>.  <b>It is
    imperative that the dashboard NOT be running</b> while you perform the
    steps below.</li>

<li>View the contents of your "backup" directory, and sort the files so
    they appear in chronological order.  The names assigned to the files
    are designed to help you perform this sort correctly.</li>

<li>Use a ZIP extraction tool to extract the contents of the most recent
    ZIP file, placing the files into your data directory.  This will
    overwrite files that are already present in that directory.</li>

<li>Next, extract the second-to-last ZIP file, also placing the results
    into your data directory, and overwriting files.  Continue in this
    manner, working your way backward through the ZIP files, until you
    reach the file representing the moment in time you wish to restore
    to.</li>

<li>At this point, you may restart the dashboard.  It should reflect the
    newly restored data, but please note the following:</li>

    <ul>

    <li>Any data that was collected after your selected &quot;restore
        point&quot; will no longer be present in your dashboard.  (After
        all, you've just intentionally restored the data to that earlier
        point in time.)</li>

    <li>The very act of starting the dashboard will cause it to create a
        new incremental backup file, capturing the changes you made in
        steps 3-4 above.  Thus, if you realize that you did not restore to
        the correct instant in time, you will need to start again at <a
        href="#RestoreSteps">Step 1</a>, shutting down the dashboard,
        sorting the new list of backup files, and reextracting all of the
        incremental backups in order.</li>

    </ul>

</ol>


<h2>Automatic, External Backups</h2>

<p>The mechanism described above is useful for undoing accidental edits to
data - for example, if you accidentally delete a large portion of your
hierarchy.  It can also be useful if a defect in the dashboard leads to
data corruption.  However, since those backups are still stored on the same
physical media as your data directory, they do not provide any insurance
against filesystem corruption.  For such protection, it is better to backup
data to another location, such as a shared network directory.</p>

<p>This can be accomplished by shutting down the dashboard, and adding a
line your <tt>pspdash.ini</tt> file:</p>

<table border>
<tr>
<th>Operating System</th>
<th>Example line for <tt>pspdash.ini</tt></th>
</tr>

<tr>
<td>Windows, UNC</td>
<td nowrap><tt>backup.extraDirectories=<span style='color:blue; font-weight:bold'>//serverName/shareName/backupDir</span></tt></td>
</tr>

<tr>
<td>Windows, Mapped drive</td>
<td nowrap><tt>backup.extraDirectories=<span style='color:blue; font-weight:bold'>z:/path/to/backupDir</span></tt></td>
</tr>

<tr>
<td>Unix / Linux</td>
<td nowrap><tt>backup.extraDirectories=<span style='color:blue; font-weight:bold'>/path/to/backupDir</span</tt></td>
</tr>

</table>

<p>In the example lines above, the <tt style='color:blue; font-weight:bold'>blue
text</tt> would be edited to indicate the directory where you want the
extra backup to be placed. (If you are on a Windows system, please notice
that you must use forward slashes '<tt>/</tt>' instead of backward slashes
'<tt>\</tt>'.)</p>

<p>In addition, you will need to ensure that the dashboard knows your name.
If you have ever joined a team project, this detail will already be taken
care of.  If not, the easiest approach is to create either a PSP project
or a Generic project using the Hierarchy Editor, then enter your name on
that project's plan summary form.</p>

<p>After you complete these steps, the dashboard will save a copy of your
most recent backup file in the directory you've requested.  The filename of
this copy will include your name, so many different individuals can share
the same network backup directory.  This backup copy will be written each
time you start the dashboard and each time you shut down the dashboard.  If
you are in the habit of leaving the dashboard running overnight, it will
also save a copy of your most recent backup file each evening between
midnight and 1 AM.</p>

<p>It is important, however, to understand that this mechanism does not
save incremental backups - it only saves a single, full backup of your most
recent data to the given directory.  If you need incremental backups, your
network administrator may be able to enable incremental checkpoint support
for the network directory in question.</p>


<h2>Manual Data Backups</h2>

<p>At any time, you can manually save a backup of your data by choosing
&quot;Tools <img src="../../Images/rarrow.png"> Save Data Backup&quot;.
This will prompt you for the name of a zip file, and will save a full
backup of your data to the given file.</p>


<h2>Additional Uses</h2>

<p>Many teams choose to use backup files for a secondary purpose.
Specifically, a process coach, team leader, or PSP instructor may need to
look at the data for a particular individual, so they can troubleshoot data
entry problems or mentor the individual in their process improvement
efforts.  The automatic external backups and manual data backups provide a
simple way to support this particular need.</p>

<p>Accordingly, your team may decide to use the
<tt>backup.extraDirectories</tt> setting to automate the generation of
secondary backups to a given network directory.  This would enable your
coach or planning manager to examine data for a particular individual if
necessary.</p>

<p>If you choose to follow this approach, consideration should be given to
data privacy concerns.  For example, you might consider configuring the
permissions on the given network directory to prevent read access by
arbitrary individuals.  On the other hand, if your organization follows
high-maturity practices and does not abuse personal data for inappropriate
purposes, this may not be a significant concern.  Each organization must
make these decisions based on their organizational climate.  Ultimately, if
organizational data privacy concerns preclude the use of automatic external
backups, you may still find manual data backups to be useful for occasional
spot-checks and interpersonal communication.</p>

</body>
</html>
