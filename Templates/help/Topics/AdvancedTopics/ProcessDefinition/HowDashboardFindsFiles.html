<HTML>
<head>
<TITLE>Making changes to the standard scripts</TITLE>
<link rel=stylesheet type="text/css" href="../../../style.css">
</head>
<BODY>

<h1><a name="OverwritingScript"></a>Making a change to a script</h1>

<p>Perhaps a pre-existing process suits you well, but you'd like to make 
some small tweak to one of the HTML scripts.  For example, you might like to 
add company specific instructions to some of the steps (to run a code 
analyzer perhaps).</p>

<p>When you're viewing the page in question, you notice it has a URL like:</p>

<p><code>http://localhost:2468/Project+Path//<b>procID/script.htm</b></code></p>

<p>In this example, "procID" is the ID of the process containing the script, 
and "script.htm" is the name of an HTML script within that process.</p>

<p>Take the following steps:</p>
<ol>
 <li>Choose &quot;<img src="../../../Images/cmenu.png"> &rarr; Help &rarr; 
   About,&quot; and click the "Configuration" tab.  One of the paragraphs
   will state that "add-ons will also be read from the following directory."
   Find that directory on your computer; it will end with "Templates".</li>
 <li>Create a subdirectory within "Templates" with the name that appears
   in the "procID" space in the example above.</li>
 <li>Save the current version of the HTML file to the subdirectory you
   just created. This can be done by choosing &quot;File
   <img src="../../../Images/rarrow.png"> 
   Save As...&quot; from within your web browser. <ul>
   <li>Give the file the same name that appears in the URL - in this
      instance, we would save the file as "script.htm".  (Note: if the
      URL contains a "?" or "#", just use the filename that appears
      before the "?" or "#".)
   <li>If your web browser has a feature to save "html only", use it.</li>
   </ul>

</li>
 <li>Edit it to your heart's content using the HTML editor of your choice.</li>
</ol>

<p>Now, every time you visit that page, for any project in your
hierarchy that uses this process, the dashboard will show you the page
containing your custom changes.</p>

<a name="FindFiles"></a><H1>How the Dashboard finds process files</H1>

<p>When it starts, the dashboard searches for process files and add-ins and 
dynamically loads them.  Also, every time you request a web page from 
<code>http://localhost:2468/</code>, the dashboard is using this same search 
mechanism.</p>

<p>The dashboard searches for files in the following locations, in the 
following order:</p>

<ol>
 <li>Look first in the directories specified by the
 <a href="../PreferencesTool.html#addOns">add-on search path</a>.</li>

 <li>Next, look in any WAR/JAR/ZIP files contained in that directory.</li>

 <li>Next, look in any WAR/JAR/ZIP files contained in the parent of that 
   directory.</li> 

 <li>Next, look in the user-specific application templates directory.  (To
   locate this directory, choose "Help &rarr; About Process Dashboard &rarr;
   Configuration." Look for the heading that reads, "Dashboard add-ons will
   also be read from the following directory.")</li>

 <li>Next, look in any WAR/JAR/ZIP files contained in the application
   templates directory.</li>

 <li>If there is a Templates directory underneath the directory where
   the Process Dashboard is installed, look there: first for the file,
   then for WAR/JAR/ZIPs containing the file.</li>

 <li>Next, look within the WAR, JAR and ZIP files that are present in the
   Process Dashboard installation directory.</li>

 <li>Finally, look inside the Process Dashboard application file.
   (This file is called "pspdash.jar", and it appears in the Process
   Dashboard installation directory.)</li>

</ol>

<p>When looking for a particular file, the dashboard will search in the above 
locations and stop as soon as it finds a matching file. This means that if 
you want to customize anything that appears in a process templates directory, 
you can.  Just create your custom version and put it in a location earlier on 
the search list.</p>

<p>Note: although dashboard add-ons are distributed as ZIP or JAR files, you
should refrain from unzipping them.  For example, if you were to unzip an
add-on in place, it would create a new Templates directory underneath the
Process Dashboard installation directory.  When you upgrade the dashboard in
the future and a new version of the add-on is installed, your unzipped files
will be overriding the newly released materials!  This will almost certainly
cause serious problems, as new and old versions of files will be interacting
with each other.  It is fine to extract single HTML files from an add-on if
you intend to customize that one file.  But do not extract files that you
don't intend to change, or whose purpose you don't understand.</p>

<a name="sharing"></a><h2>Sharing changes with team members</h2>

<p>If you're working with a team, and everyone on your team would like access 
to changes you have made to a process script, you can do the following:</p>

<ol>
 <li>Create a directory somewhere out on a shared network drive, called 
   "Templates" (for example: "<code>T:\Common\Our Team 
   Folder\Templates</code>" on a Windows network, or 
   "<code>/usr/shared/OurTeam/Templates</code>" on a Unix network)</li>
 <li>Have each person on your team add this directory to their
   <a href="../PreferencesTool.html#addOns">add-on search path</a>.</li>
 <li>Put custom versions of files underneath this team templates directory.  
   For example, you could put:
  <ul>
   <li>WAR files containing custom reports</li>
   <li>HTML files overriding files that are built into the dashboard</li>
   <li>LanguageFilters defining custom LOC counters</li>
   <li><a href="DefiningProcesses.html#XmlDef">template.xml</a> files 
      defining team processes</li>
   <li>Data files and HTML scripts/forms supporting those team <a 
      href="DefiningProcesses.html">processes</a></li> 
  </ul>
   and when you make changes to these items, everyone on the team will see 
   them automatically (except as noted below).</li>
</ol>

<h2>Some files are only read at start up</h2>

<p>When you change HTML files, everyone will see your changes immediately.  
The very next time they view the HTML page in question, they will see your 
changes.  Other files, however, the dashboard will only read once.  For 
example, template.xml files, datafiles, and LOC counters will only be read 
once, when the dashboard starts up.  If you make changes to these files, 
people will have to shut down and restart their dashboard to see your 
changes.</p>

</BODY>
</HTML>
